[Unit]
Description=Claude Context Tracker - PocketBase Database
Documentation=https://github.com/AngelFreak/CCD
After=network.target

[Service]
Type=simple
User=cct
Group=cct
WorkingDirectory=/var/lib/cct/pocketbase
ExecStart=/usr/bin/cct-pocketbase serve --http=127.0.0.1:8090 --publicDir=/usr/share/cct/frontend
Restart=always
RestartSec=5

# Security hardening
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/var/lib/cct/pocketbase
ReadOnlyPaths=/usr/share/cct/frontend

[Install]
WantedBy=multi-user.target
